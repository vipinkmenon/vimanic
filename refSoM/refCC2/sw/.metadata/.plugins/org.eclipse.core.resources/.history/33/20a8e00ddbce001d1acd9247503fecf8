#include "attenuator.h"
#include "xil_io.h"
#include "sleep.h"

void initAttenuator(attenuator *attn, u32 baseAddr){
	attn->BaseAddress = baseAddr;
}



void writeAttenuator(attenuator *attn,int attenuatorNo,float attValue){
	Xil_Out32(attn->BaseAddress+4,attenuatorNo);
	Xil_Out32(attn->BaseAddress+8,(attValue*4));
	Xil_Out32(attn->BaseAddress,1); //start
	usleep(100);
	Xil_Out32(attn->BaseAddress,0); //stop
}
